
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../llm-providers/">
      
      
        <link rel="next" href="../performance/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Monitoring - GraphBits AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#monitoring-and-observability" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="GraphBits AI" class="md-header__button md-logo" aria-label="GraphBits AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GraphBits AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Monitoring
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="GraphBits AI" class="md-nav__button md-logo" aria-label="GraphBits AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    GraphBits AI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../async-vs-sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Async vs Sync
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamics-graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dynamics Graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llm-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-monitoring-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Monitoring Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Monitoring Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-metrics-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Core Metrics Collection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-time-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Time Tracking
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-health-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      System Health Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Health Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-check-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Health Check Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Error Tracking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comprehensive-error-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Error Monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-metrics-and-dashboards" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Metrics and Dashboards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Metrics and Dashboards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#business-metrics-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Business Metrics Collection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-time-monitoring-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Real-time Monitoring Dashboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-time Monitoring Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-text-based-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Text-based Dashboard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-external-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with External Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with External Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exporting-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting Metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-monitoring-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Monitoring Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-performance-baselines" class="md-nav__link">
    <span class="md-ellipsis">
      2. Performance Baselines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-automated-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      3. Automated Alerting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's Next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reliability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../text-splitters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Splitters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow Builder
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/node-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/python-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Connector Integrations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Connector Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/aws_boto3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Boto3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/chromadb_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ChromaDB Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/faiss_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAISS Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/google_search_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Search API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/mariadb_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MariaDB Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/milvus_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milvus Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/mongodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/pgvector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PGVector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/pinecone_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pinecone Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/qdrant_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qdrant Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../connector/weaviate_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Weaviate Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/python-bindings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Bindings
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/comprehensive-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comprehensive Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/content-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/data-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/llm-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/semantic-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semantic Search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-monitoring-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Monitoring Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Monitoring Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-metrics-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Core Metrics Collection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-time-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Time Tracking
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-health-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      System Health Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Health Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-check-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Health Check Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Error Tracking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comprehensive-error-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Error Monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-metrics-and-dashboards" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Metrics and Dashboards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Metrics and Dashboards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#business-metrics-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Business Metrics Collection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-time-monitoring-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Real-time Monitoring Dashboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-time Monitoring Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-text-based-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Text-based Dashboard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-external-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with External Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with External Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exporting-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting Metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-monitoring-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Monitoring Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-performance-baselines" class="md-nav__link">
    <span class="md-ellipsis">
      2. Performance Baselines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-automated-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      3. Automated Alerting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's Next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="monitoring-and-observability">Monitoring and Observability</h1>
<p>GraphBit provides comprehensive monitoring capabilities to track workflow performance, health, and reliability. This guide covers metrics collection, alerting, logging, and observability best practices.</p>
<h2 id="overview">Overview</h2>
<p>GraphBit monitoring encompasses:
- <strong>Execution Metrics</strong>: Performance, success rates, and timing data
- <strong>System Health</strong>: Resource usage and availability monitoring
- <strong>Error Tracking</strong>: Failure detection and analysis
- <strong>Business Metrics</strong>: Custom metrics for business logic
- <strong>Real-time Dashboards</strong>: Live monitoring and visualization</p>
<h2 id="basic-monitoring-setup">Basic Monitoring Setup</h2>
<h3 id="core-metrics-collection">Core Metrics Collection</h3>
<pre><code class="language-python">import graphbit
import time
import json
from dataclasses import dataclass
from typing import Dict, List, Optional
from datetime import datetime, timedelta
import os

@dataclass
class WorkflowMetrics:
    &quot;&quot;&quot;Core workflow execution metrics.&quot;&quot;&quot;
    workflow_id: str
    workflow_name: str
    execution_id: str
    start_time: datetime
    end_time: Optional[datetime] = None
    duration_ms: Optional[int] = None
    status: str = &quot;running&quot;  # running, completed, failed
    node_count: int = 0
    nodes_executed: int = 0
    error_message: Optional[str] = None

class WorkflowMonitor:
    &quot;&quot;&quot;Monitors workflow execution and collects metrics.&quot;&quot;&quot;

    def __init__(self):
        self.metrics_store: List[WorkflowMetrics] = []
        self.active_executions: Dict[str, WorkflowMetrics] = {}

    def start_execution(self, workflow, execution_id=None):
        &quot;&quot;&quot;Start monitoring a workflow execution.&quot;&quot;&quot;

        if execution_id is None:
            execution_id = f&quot;exec_{int(time.time())}&quot;

        # Count nodes in workflow (basic implementation)
        node_count = 0
        try:
            # Attempt to get node count if workflow has such a method
            node_count = len(workflow.nodes()) if hasattr(workflow, 'nodes') else 1
        except:
            node_count = 1  # Default assumption

        metrics = WorkflowMetrics(
            workflow_id=str(hash(str(workflow))),
            workflow_name=getattr(workflow, 'name', 'Unknown'),
            execution_id=execution_id,
            start_time=datetime.now(),
            node_count=node_count
        )

        self.active_executions[execution_id] = metrics
        return execution_id

    def end_execution(self, execution_id, status=&quot;completed&quot;, error_message=None):
        &quot;&quot;&quot;End monitoring a workflow execution.&quot;&quot;&quot;

        if execution_id not in self.active_executions:
            return

        metrics = self.active_executions[execution_id]
        metrics.end_time = datetime.now()
        metrics.duration_ms = int(
            (metrics.end_time - metrics.start_time).total_seconds() * 1000
        )
        metrics.status = status
        metrics.error_message = error_message

        # Move to permanent storage
        self.metrics_store.append(metrics)
        del self.active_executions[execution_id]

    def get_metrics_summary(self, time_window_hours=24):
        &quot;&quot;&quot;Get metrics summary for specified time window.&quot;&quot;&quot;

        cutoff_time = datetime.now() - timedelta(hours=time_window_hours)
        recent_metrics = [
            m for m in self.metrics_store 
            if m.start_time &gt; cutoff_time
        ]

        if not recent_metrics:
            return {&quot;message&quot;: &quot;No metrics in time window&quot;}

        total_executions = len(recent_metrics)
        successful_executions = len([m for m in recent_metrics if m.status == &quot;completed&quot;])
        failed_executions = len([m for m in recent_metrics if m.status == &quot;failed&quot;])

        return {
            &quot;time_window_hours&quot;: time_window_hours,
            &quot;total_executions&quot;: total_executions,
            &quot;successful_executions&quot;: successful_executions,
            &quot;failed_executions&quot;: failed_executions,
            &quot;success_rate&quot;: (successful_executions / total_executions) * 100 if total_executions &gt; 0 else 0,
            &quot;active_executions&quot;: len(self.active_executions)
        }

def create_monitored_workflow():
    &quot;&quot;&quot;Create workflow with built-in monitoring.&quot;&quot;&quot;

    # Initialize GraphBit
    graphbit.init()

    workflow = graphbit.Workflow(&quot;Monitored Workflow&quot;)

    # Monitoring agent
    monitor = graphbit.Node.agent(
        name=&quot;Execution Monitor&quot;,
        prompt=&quot;&quot;&quot;
        Monitor this workflow execution:

        Input: {input}

        Report:
        - Processing status
        - Performance metrics
        - Any issues detected
        - Resource usage estimates
        &quot;&quot;&quot;,
        agent_id=&quot;monitor&quot;
    )

    # Main processor
    processor = graphbit.Node.agent(
        name=&quot;Main Processor&quot;,
        prompt=&quot;Process this data: {input}&quot;,
        agent_id=&quot;processor&quot;
    )

    # Build monitored workflow
    monitor_id = workflow.add_node(monitor)
    processor_id = workflow.add_node(processor)

    workflow.connect(monitor_id, processor_id)

    return workflow
</code></pre>
<h2 id="performance-monitoring">Performance Monitoring</h2>
<h3 id="execution-time-tracking">Execution Time Tracking</h3>
<pre><code class="language-python">import statistics
import threading
from collections import defaultdict

class PerformanceMonitor:
    &quot;&quot;&quot;Monitors workflow performance metrics.&quot;&quot;&quot;

    def __init__(self):
        self.execution_times: List[float] = []
        self.node_execution_times: Dict[str, List[float]] = defaultdict(list)
        self.client_stats: Dict[str, Dict] = {}
        self._lock = threading.Lock()

    def record_execution_time(self, duration_ms, workflow_name=&quot;unknown&quot;):
        &quot;&quot;&quot;Record workflow execution time.&quot;&quot;&quot;
        with self._lock:
            self.execution_times.append(duration_ms)

    def record_node_execution_time(self, node_name, duration_ms):
        &quot;&quot;&quot;Record individual node execution time.&quot;&quot;&quot;
        with self._lock:
            self.node_execution_times[node_name].append(duration_ms)

    def track_llm_performance(self, client):
        &quot;&quot;&quot;Track LLM client performance metrics.&quot;&quot;&quot;
        try:
            stats = client.get_stats()
            provider = stats.get(&quot;provider&quot;, &quot;unknown&quot;)

            with self._lock:
                if provider not in self.client_stats:
                    self.client_stats[provider] = {
                        &quot;total_requests&quot;: 0,
                        &quot;total_tokens&quot;: 0,
                        &quot;average_latency&quot;: 0,
                        &quot;error_count&quot;: 0
                    }

                # Update stats
                self.client_stats[provider][&quot;total_requests&quot;] = stats.get(&quot;total_requests&quot;, 0)
                self.client_stats[provider][&quot;total_tokens&quot;] = stats.get(&quot;total_tokens&quot;, 0)
                self.client_stats[provider][&quot;average_latency&quot;] = stats.get(&quot;average_latency_ms&quot;, 0)
                self.client_stats[provider][&quot;error_count&quot;] = stats.get(&quot;error_count&quot;, 0)

        except Exception as e:
            print(f&quot;Failed to track LLM performance: {e}&quot;)

    def get_performance_stats(self):
        &quot;&quot;&quot;Get comprehensive performance statistics.&quot;&quot;&quot;

        with self._lock:
            if not self.execution_times:
                return {&quot;message&quot;: &quot;No performance data available&quot;}

            # Overall execution time stats
            avg_time = statistics.mean(self.execution_times)
            median_time = statistics.median(self.execution_times)

            # Node performance breakdown
            node_stats = {}
            for node_name, times in self.node_execution_times.items():
                if times:
                    node_stats[node_name] = {
                        &quot;average_ms&quot;: statistics.mean(times),
                        &quot;median_ms&quot;: statistics.median(times),
                        &quot;max_ms&quot;: max(times),
                        &quot;execution_count&quot;: len(times)
                    }

            return {
                &quot;overall_performance&quot;: {
                    &quot;average_execution_ms&quot;: avg_time,
                    &quot;median_execution_ms&quot;: median_time,
                    &quot;total_executions&quot;: len(self.execution_times)
                },
                &quot;node_performance&quot;: node_stats,
                &quot;llm_performance&quot;: dict(self.client_stats)
            }

def monitor_workflow_execution(workflow, executor, monitor=None):
    &quot;&quot;&quot;Execute workflow with performance monitoring.&quot;&quot;&quot;

    if monitor is None:
        monitor = PerformanceMonitor()

    start_time = time.time()

    try:
        # Execute workflow
        result = executor.execute(workflow)

        # Calculate execution time
        duration_ms = (time.time() - start_time) * 1000
        monitor.record_execution_time(duration_ms, workflow.name if hasattr(workflow, 'name') else 'Unknown')

        # Track LLM performance if possible
        if hasattr(executor, 'client'):
            monitor.track_llm_performance(executor.client)

        return result, monitor

    except Exception as e:
        duration_ms = (time.time() - start_time) * 1000
        monitor.record_execution_time(duration_ms, workflow.name if hasattr(workflow, 'name') else 'Unknown')
        raise e
</code></pre>
<h2 id="system-health-monitoring">System Health Monitoring</h2>
<h3 id="health-check-implementation">Health Check Implementation</h3>
<pre><code class="language-python">class SystemHealthMonitor:
    &quot;&quot;&quot;Monitor GraphBit system health.&quot;&quot;&quot;

    def __init__(self, check_interval_seconds=60):
        self.check_interval = check_interval_seconds
        self.health_history: List[Dict] = []
        self.alerts: List[Dict] = []
        self._monitoring = False

    def start_monitoring(self):
        &quot;&quot;&quot;Start continuous health monitoring.&quot;&quot;&quot;

        if self._monitoring:
            return

        self._monitoring = True

        def monitor_loop():
            while self._monitoring:
                try:
                    health = self.check_system_health()
                    self.health_history.append({
                        &quot;timestamp&quot;: datetime.now(),
                        &quot;health&quot;: health
                    })

                    # Keep only last 100 health checks
                    if len(self.health_history) &gt; 100:
                        self.health_history = self.health_history[-100:]

                    # Check for alerts
                    self._check_alerts(health)

                except Exception as e:
                    print(f&quot;Health monitoring error: {e}&quot;)

                time.sleep(self.check_interval)

        # Start monitoring in background thread
        import threading
        monitor_thread = threading.Thread(target=monitor_loop, daemon=True)
        monitor_thread.start()

    def stop_monitoring(self):
        &quot;&quot;&quot;Stop health monitoring.&quot;&quot;&quot;
        self._monitoring = False

    def check_system_health(self):
        &quot;&quot;&quot;Check current system health.&quot;&quot;&quot;

        try:
            # Use GraphBit's built-in health check
            health = graphbit.health_check()

            # Add custom health metrics
            custom_health = {
                **health,
                &quot;timestamp&quot;: datetime.now().isoformat(),
                &quot;custom_checks&quot;: self._perform_custom_checks()
            }

            return custom_health

        except Exception as e:
            return {
                &quot;overall_healthy&quot;: False,
                &quot;error&quot;: str(e),
                &quot;timestamp&quot;: datetime.now().isoformat()
            }

    def _perform_custom_checks(self):
        &quot;&quot;&quot;Perform custom health checks.&quot;&quot;&quot;

        checks = {}

        # Check system info availability
        try:
            info = graphbit.get_system_info()
            checks[&quot;system_info_available&quot;] = True
            checks[&quot;runtime_initialized&quot;] = info.get(&quot;runtime_initialized&quot;, False)
        except:
            checks[&quot;system_info_available&quot;] = False
            checks[&quot;runtime_initialized&quot;] = False

        # Check memory usage
        try:
            import psutil
            memory = psutil.virtual_memory()
            checks[&quot;memory_usage_percent&quot;] = memory.percent
            checks[&quot;memory_available_gb&quot;] = memory.available / (1024**3)
        except:
            checks[&quot;memory_usage_percent&quot;] = None
            checks[&quot;memory_available_gb&quot;] = None

        return checks

    def _check_alerts(self, health):
        &quot;&quot;&quot;Check for alert conditions.&quot;&quot;&quot;

        alerts = []

        # Check overall health
        if not health.get(&quot;overall_healthy&quot;, False):
            alerts.append({
                &quot;level&quot;: &quot;critical&quot;,
                &quot;message&quot;: &quot;System health check failed&quot;,
                &quot;timestamp&quot;: datetime.now()
            })

        # Check memory usage
        custom_checks = health.get(&quot;custom_checks&quot;, {})
        memory_usage = custom_checks.get(&quot;memory_usage_percent&quot;)

        if memory_usage and memory_usage &gt; 90:
            alerts.append({
                &quot;level&quot;: &quot;warning&quot;,
                &quot;message&quot;: f&quot;High memory usage: {memory_usage:.1f}%&quot;,
                &quot;timestamp&quot;: datetime.now()
            })

        # Store alerts
        self.alerts.extend(alerts)

        # Keep only recent alerts (last 24 hours)
        cutoff = datetime.now() - timedelta(hours=24)
        self.alerts = [a for a in self.alerts if a[&quot;timestamp&quot;] &gt; cutoff]

    def get_health_summary(self):
        &quot;&quot;&quot;Get health monitoring summary.&quot;&quot;&quot;

        if not self.health_history:
            return {&quot;message&quot;: &quot;No health data available&quot;}

        recent_health = self.health_history[-10:]  # Last 10 checks
        healthy_count = sum(1 for h in recent_health if h[&quot;health&quot;].get(&quot;overall_healthy&quot;, False))

        return {
            &quot;current_health&quot;: self.health_history[-1][&quot;health&quot;] if self.health_history else None,
            &quot;recent_success_rate&quot;: (healthy_count / len(recent_health)) * 100,
            &quot;total_health_checks&quot;: len(self.health_history),
            &quot;active_alerts&quot;: len([a for a in self.alerts if a[&quot;level&quot;] == &quot;critical&quot;]),
            &quot;warnings&quot;: len([a for a in self.alerts if a[&quot;level&quot;] == &quot;warning&quot;])
        }
</code></pre>
<h2 id="error-tracking">Error Tracking</h2>
<h3 id="comprehensive-error-monitoring">Comprehensive Error Monitoring</h3>
<pre><code class="language-python">class ErrorTracker:
    &quot;&quot;&quot;Track and analyze errors in GraphBit workflows.&quot;&quot;&quot;

    def __init__(self):
        self.errors: List[Dict] = []
        self.error_patterns: Dict[str, int] = defaultdict(int)

    def record_error(self, error, context=None):
        &quot;&quot;&quot;Record an error with context.&quot;&quot;&quot;

        error_record = {
            &quot;timestamp&quot;: datetime.now(),
            &quot;error_type&quot;: type(error).__name__,
            &quot;error_message&quot;: str(error),
            &quot;context&quot;: context or {},
            &quot;stack_trace&quot;: None
        }

        # Capture stack trace if available
        try:
            import traceback
            error_record[&quot;stack_trace&quot;] = traceback.format_exc()
        except:
            pass

        self.errors.append(error_record)

        # Track error patterns
        self.error_patterns[error_record[&quot;error_type&quot;]] += 1

        # Keep only recent errors (last 1000)
        if len(self.errors) &gt; 1000:
            self.errors = self.errors[-1000:]

    def get_error_summary(self, time_window_hours=24):
        &quot;&quot;&quot;Get error summary for time window.&quot;&quot;&quot;

        cutoff = datetime.now() - timedelta(hours=time_window_hours)
        recent_errors = [e for e in self.errors if e[&quot;timestamp&quot;] &gt; cutoff]

        if not recent_errors:
            return {&quot;message&quot;: &quot;No errors in time window&quot;}

        # Group by error type
        error_counts = defaultdict(int)
        for error in recent_errors:
            error_counts[error[&quot;error_type&quot;]] += 1

        return {
            &quot;total_errors&quot;: len(recent_errors),
            &quot;unique_error_types&quot;: len(error_counts),
            &quot;error_breakdown&quot;: dict(error_counts),
            &quot;most_common_error&quot;: max(error_counts.items(), key=lambda x: x[1]) if error_counts else None
        }

    def analyze_error_trends(self):
        &quot;&quot;&quot;Analyze error trends over time.&quot;&quot;&quot;

        if len(self.errors) &lt; 2:
            return {&quot;message&quot;: &quot;Insufficient data for trend analysis&quot;}

        # Group errors by hour
        hourly_errors = defaultdict(int)

        for error in self.errors:
            hour_key = error[&quot;timestamp&quot;].strftime(&quot;%Y-%m-%d %H:00&quot;)
            hourly_errors[hour_key] += 1

        # Calculate trend
        error_counts = list(hourly_errors.values())

        if len(error_counts) &gt;= 2:
            recent_avg = sum(error_counts[-3:]) / min(3, len(error_counts))
            older_avg = sum(error_counts[:-3]) / max(1, len(error_counts) - 3)

            trend = &quot;increasing&quot; if recent_avg &gt; older_avg else &quot;decreasing&quot;
        else:
            trend = &quot;stable&quot;

        return {
            &quot;trend&quot;: trend,
            &quot;hourly_breakdown&quot;: dict(hourly_errors),
            &quot;peak_error_hour&quot;: max(hourly_errors.items(), key=lambda x: x[1])[0] if hourly_errors else None
        }

def execute_with_error_tracking(workflow, executor, error_tracker=None):
    &quot;&quot;&quot;Execute workflow with comprehensive error tracking.&quot;&quot;&quot;

    if error_tracker is None:
        error_tracker = ErrorTracker()

    try:
        result = executor.execute(workflow)

        # Check if execution failed
        if result.is_failed():
            error_context = {
                &quot;workflow_name&quot;: getattr(workflow, 'name', 'Unknown'),
                &quot;execution_failed&quot;: True
            }

            try:
                error_message = result.error()
                error_tracker.record_error(
                    Exception(f&quot;Workflow execution failed: {error_message}&quot;),
                    error_context
                )
            except Exception as e:
                error_tracker.record_error(e, error_context)

        return result, error_tracker

    except Exception as e:
        error_context = {
            &quot;workflow_name&quot;: getattr(workflow, 'name', 'Unknown'),
            &quot;execution_exception&quot;: True
        }
        error_tracker.record_error(e, error_context)
        raise e
</code></pre>
<h2 id="custom-metrics-and-dashboards">Custom Metrics and Dashboards</h2>
<h3 id="business-metrics-collection">Business Metrics Collection</h3>
<pre><code class="language-python">class BusinessMetricsCollector:
    &quot;&quot;&quot;Collect custom business metrics.&quot;&quot;&quot;

    def __init__(self):
        self.metrics: Dict[str, List] = defaultdict(list)

    def record_metric(self, metric_name, value, tags=None):
        &quot;&quot;&quot;Record a custom business metric.&quot;&quot;&quot;

        metric_record = {
            &quot;timestamp&quot;: datetime.now(),
            &quot;value&quot;: value,
            &quot;tags&quot;: tags or {}
        }

        self.metrics[metric_name].append(metric_record)

        # Keep only recent metrics (last 10000 per metric)
        if len(self.metrics[metric_name]) &gt; 10000:
            self.metrics[metric_name] = self.metrics[metric_name][-10000:]

    def get_metric_summary(self, metric_name, time_window_hours=24):
        &quot;&quot;&quot;Get summary for a specific metric.&quot;&quot;&quot;

        if metric_name not in self.metrics:
            return {&quot;message&quot;: f&quot;Metric '{metric_name}' not found&quot;}

        cutoff = datetime.now() - timedelta(hours=time_window_hours)
        recent_values = [
            m[&quot;value&quot;] for m in self.metrics[metric_name]
            if m[&quot;timestamp&quot;] &gt; cutoff
        ]

        if not recent_values:
            return {&quot;message&quot;: &quot;No recent data for metric&quot;}

        return {
            &quot;metric_name&quot;: metric_name,
            &quot;count&quot;: len(recent_values),
            &quot;average&quot;: statistics.mean(recent_values),
            &quot;median&quot;: statistics.median(recent_values),
            &quot;min&quot;: min(recent_values),
            &quot;max&quot;: max(recent_values),
            &quot;total&quot;: sum(recent_values)
        }

# Example usage with workflow execution
def execute_with_business_metrics(workflow, executor, metrics_collector=None):
    &quot;&quot;&quot;Execute workflow with business metrics collection.&quot;&quot;&quot;

    if metrics_collector is None:
        metrics_collector = BusinessMetricsCollector()

    # Record execution start
    start_time = time.time()
    metrics_collector.record_metric(&quot;workflow_executions_started&quot;, 1)

    try:
        result = executor.execute(workflow)

        # Record execution time
        execution_time = (time.time() - start_time) * 1000
        metrics_collector.record_metric(&quot;workflow_execution_time_ms&quot;, execution_time)

        if result.is_completed():
            metrics_collector.record_metric(&quot;workflow_executions_completed&quot;, 1)

            # Record output length if available
            try:
                output = result.output()
                if isinstance(output, str):
                    metrics_collector.record_metric(&quot;workflow_output_length&quot;, len(output))
            except:
                pass
        else:
            metrics_collector.record_metric(&quot;workflow_executions_failed&quot;, 1)

        return result, metrics_collector

    except Exception as e:
        metrics_collector.record_metric(&quot;workflow_executions_failed&quot;, 1)
        execution_time = (time.time() - start_time) * 1000
        metrics_collector.record_metric(&quot;workflow_execution_time_ms&quot;, execution_time)
        raise e
</code></pre>
<h2 id="real-time-monitoring-dashboard">Real-time Monitoring Dashboard</h2>
<h3 id="simple-text-based-dashboard">Simple Text-based Dashboard</h3>
<pre><code class="language-python">class MonitoringDashboard:
    &quot;&quot;&quot;Simple text-based monitoring dashboard.&quot;&quot;&quot;

    def __init__(self, workflow_monitor, performance_monitor, error_tracker, health_monitor):
        self.workflow_monitor = workflow_monitor
        self.performance_monitor = performance_monitor
        self.error_tracker = error_tracker
        self.health_monitor = health_monitor

    def display_dashboard(self):
        &quot;&quot;&quot;Display comprehensive monitoring dashboard.&quot;&quot;&quot;

        print(&quot;=&quot; * 60)
        print(&quot;GraphBit Monitoring Dashboard&quot;)
        print(&quot;=&quot; * 60)
        print(f&quot;Updated: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}&quot;)
        print()

        # System Health
        print(&quot;🏥 System Health&quot;)
        print(&quot;-&quot; * 20)
        health_summary = self.health_monitor.get_health_summary()
        current_health = health_summary.get(&quot;current_health&quot;, {})

        overall_healthy = current_health.get(&quot;overall_healthy&quot;, False)
        health_icon = &quot;✅&quot; if overall_healthy else &quot;❌&quot;
        print(f&quot;{health_icon} Overall Health: {'Healthy' if overall_healthy else 'Unhealthy'}&quot;)

        success_rate = health_summary.get(&quot;recent_success_rate&quot;, 0)
        print(f&quot;📊 Recent Success Rate: {success_rate:.1f}%&quot;)

        alerts = health_summary.get(&quot;active_alerts&quot;, 0)
        warnings = health_summary.get(&quot;warnings&quot;, 0)
        if alerts &gt; 0:
            print(f&quot;🚨 Active Alerts: {alerts}&quot;)
        if warnings &gt; 0:
            print(f&quot;⚠️  Warnings: {warnings}&quot;)
        print()

        # Workflow Metrics
        print(&quot;⚡ Workflow Metrics (Last 24 Hours)&quot;)
        print(&quot;-&quot; * 35)
        workflow_summary = self.workflow_monitor.get_metrics_summary(24)

        if &quot;message&quot; not in workflow_summary:
            total_executions = workflow_summary.get(&quot;total_executions&quot;, 0)
            success_rate = workflow_summary.get(&quot;success_rate&quot;, 0)
            active_executions = workflow_summary.get(&quot;active_executions&quot;, 0)

            print(f&quot;📈 Total Executions: {total_executions}&quot;)
            print(f&quot;🎯 Success Rate: {success_rate:.1f}%&quot;)
            print(f&quot;🔄 Active Executions: {active_executions}&quot;)
        else:
            print(&quot;📝 No workflow data available&quot;)
        print()

        # Performance Metrics
        print(&quot;🚀 Performance Metrics&quot;)
        print(&quot;-&quot; * 22)
        perf_stats = self.performance_monitor.get_performance_stats()

        if &quot;message&quot; not in perf_stats:
            overall_perf = perf_stats.get(&quot;overall_performance&quot;, {})
            avg_time = overall_perf.get(&quot;average_execution_ms&quot;, 0)
            total_executions = overall_perf.get(&quot;total_executions&quot;, 0)

            print(f&quot;⏱️  Average Execution Time: {avg_time:.1f}ms&quot;)
            print(f&quot;📊 Total Executions: {total_executions}&quot;)

            # LLM Performance
            llm_perf = perf_stats.get(&quot;llm_performance&quot;, {})
            for provider, stats in llm_perf.items():
                print(f&quot;🤖 {provider} - Requests: {stats.get('total_requests', 0)}, &quot;
                      f&quot;Avg Latency: {stats.get('average_latency', 0):.1f}ms&quot;)
        else:
            print(&quot;📝 No performance data available&quot;)
        print()

        # Error Summary
        print(&quot;🐛 Error Summary (Last 24 Hours)&quot;)
        print(&quot;-&quot; * 30)
        error_summary = self.error_tracker.get_error_summary(24)

        if &quot;message&quot; not in error_summary:
            total_errors = error_summary.get(&quot;total_errors&quot;, 0)
            unique_types = error_summary.get(&quot;unique_error_types&quot;, 0)
            most_common = error_summary.get(&quot;most_common_error&quot;)

            print(f&quot;🔴 Total Errors: {total_errors}&quot;)
            print(f&quot;🔢 Unique Error Types: {unique_types}&quot;)

            if most_common:
                print(f&quot;📈 Most Common: {most_common[0]} ({most_common[1]} occurrences)&quot;)
        else:
            print(&quot;📝 No error data available&quot;)

        print(&quot;=&quot; * 60)

    def start_live_dashboard(self, refresh_interval=30):
        &quot;&quot;&quot;Start live dashboard with auto-refresh.&quot;&quot;&quot;

        import os

        try:
            while True:
                # Clear screen (works on most terminals)
                os.system('clear' if os.name == 'posix' else 'cls')

                self.display_dashboard()

                print(f&quot;\nRefreshing in {refresh_interval} seconds... (Ctrl+C to stop)&quot;)
                time.sleep(refresh_interval)

        except KeyboardInterrupt:
            print(&quot;\n\nDashboard stopped.&quot;)

# Complete monitoring setup
def setup_comprehensive_monitoring():
    &quot;&quot;&quot;Set up comprehensive monitoring for GraphBit workflows.&quot;&quot;&quot;

    # Initialize all monitors
    workflow_monitor = WorkflowMonitor()
    performance_monitor = PerformanceMonitor()
    error_tracker = ErrorTracker()
    health_monitor = SystemHealthMonitor()

    # Start health monitoring
    health_monitor.start_monitoring()

    # Create dashboard
    dashboard = MonitoringDashboard(
        workflow_monitor, 
        performance_monitor, 
        error_tracker, 
        health_monitor
    )

    return {
        &quot;workflow_monitor&quot;: workflow_monitor,
        &quot;performance_monitor&quot;: performance_monitor,
        &quot;error_tracker&quot;: error_tracker,
        &quot;health_monitor&quot;: health_monitor,
        &quot;dashboard&quot;: dashboard
    }

# Usage example
if __name__ == &quot;__main__&quot;:
    # Initialize GraphBit
    graphbit.init()

    # Set up monitoring
    monitoring = setup_comprehensive_monitoring()

    # Display dashboard once
    monitoring[&quot;dashboard&quot;].display_dashboard()

    # Or start live dashboard
    # monitoring[&quot;dashboard&quot;].start_live_dashboard(refresh_interval=30)
</code></pre>
<h2 id="integration-with-external-systems">Integration with External Systems</h2>
<h3 id="exporting-metrics">Exporting Metrics</h3>
<pre><code class="language-python">def export_metrics_to_json(monitors, output_file=&quot;graphbit_metrics.json&quot;):
    &quot;&quot;&quot;Export all metrics to JSON file.&quot;&quot;&quot;

    workflow_monitor, performance_monitor, error_tracker, health_monitor = monitors

    export_data = {
        &quot;timestamp&quot;: datetime.now().isoformat(),
        &quot;workflow_metrics&quot;: workflow_monitor.get_metrics_summary(24),
        &quot;performance_metrics&quot;: performance_monitor.get_performance_stats(),
        &quot;error_summary&quot;: error_tracker.get_error_summary(24),
        &quot;health_summary&quot;: health_monitor.get_health_summary(),
        &quot;system_info&quot;: None
    }

    # Add system info if available
    try:
        export_data[&quot;system_info&quot;] = graphbit.get_system_info()
    except:
        pass

    with open(output_file, 'w') as f:
        json.dump(export_data, f, indent=2, default=str)

    print(f&quot;Metrics exported to {output_file}&quot;)

def send_alerts_to_webhook(health_monitor, webhook_url):
    &quot;&quot;&quot;Send alerts to external webhook.&quot;&quot;&quot;

    try:
        import requests

        health_summary = health_monitor.get_health_summary()
        alerts = health_summary.get(&quot;active_alerts&quot;, 0)

        if alerts &gt; 0:
            payload = {
                &quot;message&quot;: f&quot;GraphBit Health Alert: {alerts} active alerts&quot;,
                &quot;timestamp&quot;: datetime.now().isoformat(),
                &quot;health_summary&quot;: health_summary
            }

            response = requests.post(webhook_url, json=payload, timeout=10)

            if response.status_code == 200:
                print(&quot;Alert sent successfully&quot;)
            else:
                print(f&quot;Failed to send alert: {response.status_code}&quot;)

    except Exception as e:
        print(f&quot;Failed to send alert: {e}&quot;)
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-monitoring-strategy">1. Monitoring Strategy</h3>
<p>Implement layered monitoring:</p>
<pre><code class="language-python">def create_production_monitoring_setup():
    &quot;&quot;&quot;Create production-ready monitoring setup.&quot;&quot;&quot;

    # Core monitoring components
    monitors = setup_comprehensive_monitoring()

    # Configure alerts
    health_monitor = monitors[&quot;health_monitor&quot;]

    # Set up metric exports
    def export_metrics_periodically():
        while True:
            try:
                export_metrics_to_json([
                    monitors[&quot;workflow_monitor&quot;],
                    monitors[&quot;performance_monitor&quot;], 
                    monitors[&quot;error_tracker&quot;],
                    monitors[&quot;health_monitor&quot;]
                ])
                time.sleep(300)  # Export every 5 minutes
            except Exception as e:
                print(f&quot;Metric export failed: {e}&quot;)
                time.sleep(60)  # Retry in 1 minute

    # Start background export
    import threading
    export_thread = threading.Thread(target=export_metrics_periodically, daemon=True)
    export_thread.start()

    return monitors
</code></pre>
<h3 id="2-performance-baselines">2. Performance Baselines</h3>
<p>Establish performance baselines:</p>
<pre><code class="language-python">def establish_performance_baseline(workflow, executor, iterations=10):
    &quot;&quot;&quot;Establish performance baseline for a workflow.&quot;&quot;&quot;

    performance_monitor = PerformanceMonitor()
    execution_times = []

    print(f&quot;Establishing baseline with {iterations} iterations...&quot;)

    for i in range(iterations):
        start_time = time.time()

        try:
            result = executor.execute(workflow)
            duration_ms = (time.time() - start_time) * 1000
            execution_times.append(duration_ms)
            performance_monitor.record_execution_time(duration_ms)

            print(f&quot;  Iteration {i+1}: {duration_ms:.1f}ms&quot;)

        except Exception as e:
            print(f&quot;  Iteration {i+1}: FAILED - {e}&quot;)

    if execution_times:
        baseline = {
            &quot;average_ms&quot;: statistics.mean(execution_times),
            &quot;median_ms&quot;: statistics.median(execution_times),
            &quot;p95_ms&quot;: sorted(execution_times)[int(len(execution_times) * 0.95)],
            &quot;iterations&quot;: len(execution_times)
        }

        print(f&quot;\nBaseline established:&quot;)
        print(f&quot;  Average: {baseline['average_ms']:.1f}ms&quot;)
        print(f&quot;  Median: {baseline['median_ms']:.1f}ms&quot;)
        print(f&quot;  P95: {baseline['p95_ms']:.1f}ms&quot;)

        return baseline
    else:
        print(&quot;Failed to establish baseline - no successful executions&quot;)
        return None
</code></pre>
<h3 id="3-automated-alerting">3. Automated Alerting</h3>
<p>Set up automated alerting:</p>
<pre><code class="language-python">def setup_automated_alerting(health_monitor, thresholds=None):
    &quot;&quot;&quot;Set up automated alerting based on health metrics.&quot;&quot;&quot;

    if thresholds is None:
        thresholds = {
            &quot;error_rate_percent&quot;: 10,
            &quot;memory_usage_percent&quot;: 85,
            &quot;success_rate_percent&quot;: 95
        }

    def check_and_alert():
        health_summary = health_monitor.get_health_summary()
        current_health = health_summary.get(&quot;current_health&quot;, {})

        alerts = []

        # Check memory usage
        custom_checks = current_health.get(&quot;custom_checks&quot;, {})
        memory_usage = custom_checks.get(&quot;memory_usage_percent&quot;)

        if memory_usage and memory_usage &gt; thresholds[&quot;memory_usage_percent&quot;]:
            alerts.append(f&quot;High memory usage: {memory_usage:.1f}%&quot;)

        # Check success rate
        success_rate = health_summary.get(&quot;recent_success_rate&quot;, 100)
        if success_rate &lt; thresholds[&quot;success_rate_percent&quot;]:
            alerts.append(f&quot;Low success rate: {success_rate:.1f}%&quot;)

        # Send alerts if any
        if alerts:
            print(&quot;🚨 ALERTS TRIGGERED:&quot;)
            for alert in alerts:
                print(f&quot;  - {alert}&quot;)

        return alerts

    return check_and_alert
</code></pre>
<h2 id="whats-next">What's Next</h2>
<ul>
<li>Learn about <a href="../performance/">Performance</a> optimization techniques</li>
<li>Explore <a href="../reliability/">Reliability</a> patterns for production systems</li>
<li>Check <a href="../validation/">Validation</a> for comprehensive testing strategies</li>
<li>See <a href="../llm-providers/">LLM Providers</a> for provider-specific monitoring</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>